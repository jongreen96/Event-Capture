import{j as e,r as y,P as w,O as k}from"./index-DhPpHuuk.js";import{B as f,b as g}from"./button-JWtu4X_b.js";import{D as v,a as C,b as z,c as S,d as T,e as D}from"./dialog-B_Kr0HwT.js";import{I as V}from"./input-Cg-5gkEM.js";import{c as b}from"./index-FLfdkiM-.js";import{C as r,a as i,b as c,c as n}from"./card-CrH19rZ2.js";import{c as d,f as j}from"./utils-UfDrfrNd.js";import{L as h}from"./link-BvUzk-Q_.js";import"./index-BdlTLHuF.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I=b("Settings",_);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],q=b("Share2",L);function H({url:l}){const s="http://localhost:5173/upload/"+l;return e.jsxs(v,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(q,{})," Share Upload Link"]})}),e.jsxs(z,{children:[e.jsxs(S,{children:[e.jsx(T,{children:"Share your upload link"}),e.jsx(D,{children:"Share the QR code or the link below with your guests, allowing them to upload their images"})]}),e.jsxs("div",{className:"flex ",children:[e.jsx(V,{readOnly:!0,value:s,className:"rounded-r-none"}),e.jsx(f,{onClick:()=>navigator.clipboard.writeText(s),className:"rounded-l-none",children:"Copy Link"})]})]})]})}function R({className:l,...s}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:d("w-full caption-bottom text-sm",l),...s})})}function U({className:l,...s}){return e.jsx("thead",{"data-slot":"table-header",className:d("[&_tr]:border-b",l),...s})}function B({className:l,...s}){return e.jsx("tbody",{"data-slot":"table-body",className:d("[&_tr:last-child]:border-0",l),...s})}function u({className:l,...s}){return e.jsx("tr",{"data-slot":"table-row",className:d("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",l),...s})}function p({className:l,...s}){return e.jsx("th",{"data-slot":"table-head",className:d("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),...s})}function o({className:l,...s}){return e.jsx("td",{"data-slot":"table-cell",className:d("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),...s})}const K=function(){const{activePlan:s}=y.useContext(w);if(!s)return e.jsx("p",{children:"Error loading plans."});const m=23,x=10;return e.jsxs(e.Fragment,{children:[e.jsx("section",{children:e.jsxs("div",{className:"flex items-center justify-between p-0 pl-2 gap-2",children:[e.jsx("p",{className:"capitalize overflow-ellipsis font-semibold text-xl md:text-2xl lg:text-3xl line-clamp-3",children:s==null?void 0:s.eventname}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(f,{size:"icon",variant:"outline",children:e.jsx(I,{})}),e.jsx(H,{url:s.url})]})]})}),e.jsxs("section",{className:"grid grid-cols-2 @3xl:grid-cols-4 gap-4 text-center",children:[e.jsxs(r,{className:"gap-2",children:[e.jsx(i,{children:e.jsx(c,{children:"Photos"})}),e.jsx(n,{className:"text-3xl text-center font-semibold",children:s==null?void 0:s.images.length})]}),e.jsxs(r,{className:"gap-2",children:[e.jsx(i,{children:e.jsx(c,{children:"Guests"})}),e.jsx(n,{className:"text-3xl text-center font-semibold",children:s==null?void 0:s.guests.length})]}),e.jsxs(r,{className:"gap-2",children:[e.jsx(i,{children:e.jsx(c,{children:"Usage"})}),e.jsx(n,{className:"text-3xl text-center font-semibold",children:j(s.images.reduce((a,t)=>a+t.imagesize,0),2)})]}),e.jsxs(r,{className:"gap-2",children:[e.jsx(i,{children:e.jsx(c,{children:"Plan"})}),e.jsx(n,{className:"text-3xl text-center font-semibold capitalize",children:s==null?void 0:s.plan})]})]}),e.jsxs("section",{className:"grid gap-10 @3xl:grid-cols-[2fr_1fr]",children:[e.jsxs(r,{className:"shadow-none border-0 @container/ic",children:[e.jsx(i,{className:"px-0",children:e.jsxs(c,{className:"flex items-center justify-between",children:["Photos",e.jsx(h,{to:"/dashboard/photos",className:g({variant:"outline"}),children:"View All"})]})}),e.jsxs(n,{className:"grid px-0 gap-2 grid-cols-2 @2xs/ic:grid-cols-3 @sm/ic:grid-cols-4 @xl/ic:grid-cols-5 @2xl/ic:grid-cols-6",children:[s.images.slice(0,m).map(a=>e.jsx(h,{to:"/dashboard/photos/$photoId",params:{photoId:a.id},children:e.jsx(r,{className:"p-0 overflow-hidden aspect-square",children:e.jsx("img",{src:"https://picsum.photos/200",alt:a.imagename,className:"size-full object-cover object-center"})})},a.id)),s.images.length>m&&e.jsxs(h,{to:"/dashboard/photos",className:g({variant:"outline",className:"h-full text-muted-foreground"}),children:["+ ",s.images.length-m," more"]})]})]}),e.jsxs(r,{className:"shadow-none border-0",children:[e.jsx(i,{className:"px-0",children:e.jsxs(c,{className:"flex items-center justify-between",children:["Guests",e.jsx(h,{to:"/dashboard/guests",className:g({variant:"outline"}),children:"View All"})]})}),e.jsx(n,{className:"px-0",children:e.jsxs(R,{children:[e.jsx(U,{children:e.jsxs(u,{children:[e.jsx(p,{children:"Name"}),e.jsx(p,{className:"text-right",children:"Photos"}),e.jsx(p,{className:"text-right",children:"Usage"})]})}),e.jsxs(B,{children:[s.guests.slice(0,x).map(a=>e.jsxs(u,{children:[e.jsx(o,{className:"max-w-1 truncate",children:a}),e.jsx(o,{className:"text-right",children:s.images.filter(t=>t.guestname===a).length}),e.jsx(o,{className:"text-right",children:j(s.images.filter(t=>t.guestname===a).reduce((t,N)=>t+N.imagesize,0),1)})]},a)),s.guests.length>x&&e.jsxs(u,{children:[e.jsxs(o,{className:"text-muted-foreground",children:["+ ",s.guests.length-x," more"]}),e.jsx(o,{className:"text-right text-muted-foreground",children:s.images.filter(a=>!s.guests.slice(0,x).includes(a.guestname)).length}),e.jsx(o,{className:"text-right text-muted-foreground",children:j(s.images.filter(a=>!s.guests.slice(0,x).includes(a.guestname)).reduce((a,t)=>a+t.imagesize,0),1)})]})]})]})})]})]}),e.jsx(k,{})]})};export{K as component};
