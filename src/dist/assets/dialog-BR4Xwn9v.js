var S=s=>{throw TypeError(s)};var j=(s,t,e)=>t.has(s)||S("Cannot "+e);var a=(s,t,e)=>(j(s,t,"read from private field"),e?e.call(s):t.get(s)),m=(s,t,e)=>t.has(s)?S("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),f=(s,t,e,i)=>(j(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e),p=(s,t,e)=>(j(s,t,"access private method"),e);import{S as K,m as N,n as w,o as k,p as T,c as z,r as b,q as P,t as q,j as r}from"./index-De8wDBeF.js";import{R as U,m as L,C as A,T as H,D as I,P as Q,O as B,a as F}from"./index-BuzMJSkO.js";import{c as x}from"./button-C7_tTIlf.js";var d,h,o,n,l,C,D,R,G=(R=class extends K{constructor(t,e){super();m(this,l);m(this,d);m(this,h);m(this,o);m(this,n);f(this,d,t),this.setOptions(e),this.bindMethods(),p(this,l,C).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const e=this.options;this.options=a(this,d).defaultMutationOptions(t),N(this.options,e)||a(this,d).getMutationCache().notify({type:"observerOptionsUpdated",mutation:a(this,o),observer:this}),e!=null&&e.mutationKey&&this.options.mutationKey&&w(e.mutationKey)!==w(this.options.mutationKey)?this.reset():((i=a(this,o))==null?void 0:i.state.status)==="pending"&&a(this,o).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=a(this,o))==null||t.removeObserver(this)}onMutationUpdate(t){p(this,l,C).call(this),p(this,l,D).call(this,t)}getCurrentResult(){return a(this,h)}reset(){var t;(t=a(this,o))==null||t.removeObserver(this),f(this,o,void 0),p(this,l,C).call(this),p(this,l,D).call(this)}mutate(t,e){var i;return f(this,n,e),(i=a(this,o))==null||i.removeObserver(this),f(this,o,a(this,d).getMutationCache().build(a(this,d),this.options)),a(this,o).addObserver(this),a(this,o).execute(t)}},d=new WeakMap,h=new WeakMap,o=new WeakMap,n=new WeakMap,l=new WeakSet,C=function(){var e;const t=((e=a(this,o))==null?void 0:e.state)??k();f(this,h,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},D=function(t){T.batch(()=>{var e,i,u,v,c,y,E,M;if(a(this,n)&&this.hasListeners()){const g=a(this,h).variables,O=a(this,h).context;(t==null?void 0:t.type)==="success"?((i=(e=a(this,n)).onSuccess)==null||i.call(e,t.data,g,O),(v=(u=a(this,n)).onSettled)==null||v.call(u,t.data,null,g,O)):(t==null?void 0:t.type)==="error"&&((y=(c=a(this,n)).onError)==null||y.call(c,t.error,g,O),(M=(E=a(this,n)).onSettled)==null||M.call(E,void 0,t.error,g,O))}this.listeners.forEach(g=>{g(a(this,h))})})},R);function _(s,t){const e=z(),[i]=b.useState(()=>new G(e,s));b.useEffect(()=>{i.setOptions(s)},[i,s]);const u=b.useSyncExternalStore(b.useCallback(c=>i.subscribe(T.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),v=b.useCallback((c,y)=>{i.mutate(c,y).catch(P)},[i]);if(u.error&&q(i.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:v,mutateAsync:u.mutate}}function $({...s}){return r.jsx(U,{"data-slot":"dialog",...s})}function tt({...s}){return r.jsx(L,{"data-slot":"dialog-trigger",...s})}function J({...s}){return r.jsx(Q,{"data-slot":"dialog-portal",...s})}function st({...s}){return r.jsx(F,{"data-slot":"dialog-close",...s})}function V({className:s,...t}){return r.jsx(B,{"data-slot":"dialog-overlay",className:x("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function et({className:s,children:t,...e}){return r.jsxs(J,{"data-slot":"dialog-portal",children:[r.jsx(V,{}),r.jsx(A,{"data-slot":"dialog-content",className:x("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...e,children:t})]})}function at({className:s,...t}){return r.jsx("div",{"data-slot":"dialog-header",className:x("flex flex-col gap-2 text-center sm:text-left",s),...t})}function it({className:s,...t}){return r.jsx(H,{"data-slot":"dialog-title",className:x("text-lg leading-none font-semibold",s),...t})}function ot({className:s,...t}){return r.jsx(I,{"data-slot":"dialog-description",className:x("text-muted-foreground text-sm",s),...t})}export{$ as D,tt as a,et as b,at as c,it as d,ot as e,st as f,_ as u};
