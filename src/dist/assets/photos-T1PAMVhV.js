import{r,P as f,j as e,c as j,L as d,O as g}from"./index-CK3k5Esg.js";import{b as y,B as p,c as C}from"./button-DrWdcpSv.js";import{C as m,a as v,b,c as N}from"./card-BhKjvidx.js";import{u as S,g as w}from"./queries-oX3TTFrG.js";import{C as I}from"./chevron-left--MMTG5x9.js";import"./createLucideIcon-DImtUl35.js";const Q=function(){var l;const{activePlanId:u}=r.useContext(f),a=(l=S({queryKey:["plans"],queryFn:w,staleTime:1/0}).data)==null?void 0:l.find(s=>s.id===u);if(!a)return e.jsx("p",{children:"Select a plan from the sidebar."});const h=j(),[t,c]=r.useState(!1),[i,n]=r.useState([]);return e.jsxs(m,{className:"shadow-none border-0 @container/ic",children:[e.jsxs(v,{className:"space-y-2 px-0",children:[e.jsxs(d,{to:"/dashboard",className:y({variant:"ghost",className:"w-fit -mt-14 -ml-4 text-muted-foreground"}),children:[e.jsx(I,{}),"Overview"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"All Photos"}),e.jsxs("div",{className:"flex items-center gap-2",children:[t&&i.length>0?e.jsxs(p,{variant:"destructive",onClick:async()=>{await fetch("/api/photos",{method:"DELETE",body:JSON.stringify({photoId:i}),headers:{"Content-Type":"application/json"}}),n([]),c(!1),h.invalidateQueries({queryKey:["plans"]})},children:["Delete Selected (",i.length,")"]}):null,e.jsx(p,{variant:"outline",onClick:()=>{c(!t),t||n([])},children:t?"Cancel":"Select"})]})]})]}),e.jsx(N,{className:"grid p-0 gap-2 grid-cols-2 @xs/ic:grid-cols-3 @md/ic:grid-cols-4 @xl/ic:grid-cols-5 @2xl/ic:grid-cols-6 @4xl/ic:grid-cols-8 @6xl/ic:grid-cols-10",children:a==null?void 0:a.images.map(s=>e.jsx(d,{to:"/dashboard/photos/$photoId",params:{photoId:s.id},disabled:t,onMouseDown:()=>{t&&n(o=>o.includes(s.id)?o.filter(x=>x!==s.id):[...o,s.id])},children:e.jsx(m,{className:"p-0 overflow-hidden aspect-square relative cursor-pointer",children:e.jsx("img",{src:`https://images.jongreen.dev/${s.imagename}-preview`,alt:s.imagename,className:C("size-full object-cover object-center",t&&"opacity-50 hover:opacity-75",i.includes(s.id)&&"opacity-100")})})},s.id))}),e.jsx(g,{})]})};export{Q as component};
