import{j as e,r as N,P as w}from"./index-C_V3Tmff.js";import{b as g}from"./button-DPHw_Ohs.js";import{C as r,a as i,b as c,c as n}from"./card-DzcHnMtA.js";import{c as d,f as u}from"./utils-B3Qy2_hJ.js";import{L as m}from"./link-Cs2RgFzB.js";import{I as h}from"./image-Ce2SEV3v.js";import"./createLucideIcon-D2gzFStH.js";function y({className:a,...s}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:d("w-full caption-bottom text-sm",a),...s})})}function C({className:a,...s}){return e.jsx("thead",{"data-slot":"table-header",className:d("[&_tr]:border-b",a),...s})}function v({className:a,...s}){return e.jsx("tbody",{"data-slot":"table-body",className:d("[&_tr:last-child]:border-0",a),...s})}function p({className:a,...s}){return e.jsx("tr",{"data-slot":"table-row",className:d("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...s})}function f({className:a,...s}){return e.jsx("th",{"data-slot":"table-head",className:d("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})}function o({className:a,...s}){return e.jsx("td",{"data-slot":"table-cell",className:d("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})}const R=function(){const{activePlan:s}=N.useContext(w);if(!s)return e.jsx("p",{children:"Error loading plans."});const j=23,x=10;return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"grid grid-cols-2 @3xl:grid-cols-4 gap-4",children:[e.jsxs(r,{className:"gap-0",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"size-4"}),"Photos"]}),e.jsx("span",{className:"text-xl text-right font-semibold",children:s==null?void 0:s.images.length})]})}),e.jsx(n,{})]}),e.jsxs(r,{className:"gap-0",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"size-4"}),"Guests"]}),e.jsx("span",{className:"text-xl text-right font-semibold",children:s==null?void 0:s.guests.length})]})}),e.jsx(n,{})]}),e.jsxs(r,{className:"gap-0",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"size-4"}),"Usage"]}),e.jsx("span",{className:"text-xl text-right font-semibold",children:u(s.images.reduce((t,l)=>t+l.imagesize,0),2)})]})}),e.jsx(n,{})]}),e.jsxs(r,{className:"gap-0",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"size-4"}),"Plan"]}),e.jsx("span",{className:"text-xl text-right font-semibold",children:s==null?void 0:s.plan})]})}),e.jsx(n,{})]})]}),e.jsxs("section",{className:"grid gap-4 @3xl:grid-cols-[2fr_1fr]",children:[e.jsxs(r,{className:"shadow-none border-0 @container/ic",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center justify-between",children:["Photos",e.jsx(m,{to:"/dashboard/photos",className:g({variant:"outline"}),children:"View All"})]})}),e.jsxs(n,{className:"grid gap-2 grid-cols-2 @xs/ic:grid-cols-3 @md/ic:grid-cols-4 @xl/ic:grid-cols-5 @2xl/ic:grid-cols-6",children:[s.images.slice(0,j).map(t=>e.jsx(m,{to:"/dashboard/photos/$photoId",params:{photoId:t.id},children:e.jsx(r,{className:"p-0 overflow-hidden aspect-square",children:e.jsx("img",{src:"https://picsum.photos/200",alt:t.imagename,className:"size-full object-cover object-center"})})},t.id)),s.images.length>j&&e.jsxs(m,{to:"/dashboard/photos",className:g({variant:"outline",className:"h-full text-muted-foreground"}),children:["+ ",s.images.length-j," more"]})]})]}),e.jsxs(r,{className:"shadow-none border-0",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center justify-between",children:["Guests",e.jsx(m,{to:"/dashboard/guests",className:g({variant:"outline"}),children:"View All"})]})}),e.jsx(n,{children:e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs(p,{children:[e.jsx(f,{children:"Name"}),e.jsx(f,{className:"text-right",children:"Photos"}),e.jsx(f,{className:"text-right",children:"Usage"})]})}),e.jsxs(v,{children:[s.guests.slice(0,x).map(t=>e.jsxs(p,{children:[e.jsx(o,{className:"overflow-clip max-w-1",children:t}),e.jsx(o,{className:"text-right",children:s.images.filter(l=>l.guestname===t).length}),e.jsx(o,{className:"text-right",children:u(s.images.filter(l=>l.guestname===t).reduce((l,b)=>l+b.imagesize,0),1)})]},t)),s.guests.length>x&&e.jsxs(p,{children:[e.jsxs(o,{className:"text-muted-foreground",children:["+ ",s.guests.length-x," more"]}),e.jsx(o,{className:"text-right text-muted-foreground",children:s.images.filter(t=>!s.guests.slice(0,x).includes(t.guestname)).length}),e.jsx(o,{className:"text-right text-muted-foreground",children:u(s.images.filter(t=>!s.guests.slice(0,x).includes(t.guestname)).reduce((t,l)=>t+l.imagesize,0),1)})]})]})]})})]})]})]})};export{R as component};
