import{r,P as j,c as g,j as e,L as d,O as y}from"./index-BqeRmJPt.js";import{b as C,B as p,c as v}from"./button-BXrhXChL.js";import{C as m,a as b,b as N,c as S}from"./card--N_Zub0I.js";import{u as w,g as I}from"./queries-Dg2rbaRp.js";import{C as q}from"./chevron-left-B58uOE6w.js";import"./createLucideIcon-CRrpcRfJ.js";const Q=function(){var l;const{activePlanId:u}=r.useContext(j),h=w({queryKey:["plans"],queryFn:I,staleTime:1/0}),x=g(),[t,c]=r.useState(!1),[a,o]=r.useState([]),i=(l=h.data)==null?void 0:l.find(s=>s.id===u);return i?e.jsxs(m,{className:"shadow-none border-0 @container/ic",children:[e.jsxs(b,{className:"space-y-2 px-0",children:[e.jsxs(d,{to:"/dashboard",className:C({variant:"ghost",className:"w-fit -mt-14 -ml-4 text-muted-foreground"}),children:[e.jsx(q,{}),"Overview"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{children:"All Photos"}),e.jsxs("div",{className:"flex items-center gap-2",children:[t&&a.length>0?e.jsxs(p,{variant:"destructive",onClick:async()=>{await fetch("/api/photos",{method:"DELETE",body:JSON.stringify({photoId:a}),headers:{"Content-Type":"application/json"}}),o([]),c(!1),x.invalidateQueries({queryKey:["plans"]})},children:["Delete Selected (",a.length,")"]}):null,e.jsx(p,{variant:"outline",onClick:()=>{c(!t),t||o([])},children:t?"Cancel":"Select"})]})]})]}),e.jsx(S,{className:"grid p-0 gap-2 grid-cols-2 @xs/ic:grid-cols-3 @md/ic:grid-cols-4 @xl/ic:grid-cols-5 @2xl/ic:grid-cols-6 @4xl/ic:grid-cols-8 @6xl/ic:grid-cols-10",children:i==null?void 0:i.images.map(s=>e.jsx(d,{to:"/dashboard/photos/$photoId",params:{photoId:s.id},disabled:t,onMouseDown:()=>{t&&o(n=>n.includes(s.id)?n.filter(f=>f!==s.id):[...n,s.id])},children:e.jsx(m,{className:"p-0 overflow-hidden aspect-square relative cursor-pointer",children:e.jsx("img",{src:`https://images.jongreen.dev/${s.imagename}-preview`,alt:s.imagename,className:v("size-full object-cover object-center",t&&"opacity-50 hover:opacity-75",a.includes(s.id)&&"opacity-100")})})},s.id))}),e.jsx(y,{})]}):e.jsx("p",{children:"Select a plan from the sidebar."})};export{Q as component};
